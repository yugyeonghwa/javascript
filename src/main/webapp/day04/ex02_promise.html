<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<!--
  fetch(): 네트워크의 리소스를 쉽게 비동기적으로 취득할 수도 있습니다.
           요청과 응답 등의 요소를 JavaScript에서 접근하고 조작할 수 있는 인터페이스를 제공.
           ** 서버로 부터 자원을 받아서 반환함 = > response
  -->
  <script type="text/javascript">
  /*
     const myPromise = fetch('https://jsonplaceholder.typicode.com/todos?_limit=5') 
    
     myPromise
     .then((response)=>{
    	 console.log('response : ' , response);
     })
     .catch((err)=>{
    	 console.log('err : ' , err);
     })
  */
  
  fetch('https://jsonplaceholder.typicode.com/todos?_limit=5')
  .then((response)=>{
	  // console.log('response : ' , response);
	  // 성공해서 가져온 response이 json이므로 response.json()처리하면 
	  // json 형식의 데이터도 처리할 수 있다. 
	  return response.json();
  })
  .then((data)=>{
	  // 첫번째 then return한 정보를 받아서 처리할 수 있다.
	  // data란 위에서 넘어온 response.json()을 뜻한다.
	  console.log('data :', data);
	  // 넘어온 배열 하나씩 검사 해서 id가 3초과한 데이터만 return 하자.
	  return data.filter(obj => obj.id>3);
  })
  .then((result)=>{
	  // 위 에 then에서 리턴한 id가 3초과한 데이터 => result 
	  console.log('result :', result);
  })
  .catch(err=> console.log('err :', err))
  .finally(()=>{console.log('finally !!')})
  </script>
</body>
</html>